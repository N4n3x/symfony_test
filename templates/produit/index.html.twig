{% extends 'base.html.twig' %}

{% block title %}Hello ProduitController!{% endblock %}

{% block body %}

    <div class="container mt-4">
        <h1>Produits</h1>

        {# total items count #}
        <div class="count">
            Nombre total de produits: {{ produits.getTotalItemCount }}
        </div>
        <table class="table table-striped">
            <thead>
            <tr>
                <th>{{ knp_pagination_sortable(produits, 'Titre', 'produit.titre') }}</th>
                <th>Description</th>
                <th>{{ knp_pagination_sortable(produits, 'Prix TTC', 'produit.prixTTC') }}</th>

            </tr>
            </thead>
            <tbody>
            {% for produit in produits %}
                    <tr onclick="document.location.href='{{ path('produit_show', {slug: produit.slug})}}'">
                        <td>{{ produit.titre }}</td>
                        <td>{{ produit.description }}</td>
                        <td>{{ produit.prixTTC }}</td>
                    </tr>
            {% endfor %}

            </tbody>
        </table>
        {# display navigation #}
        <div class="navigation">
            {{ knp_pagination_render(produits) }}
        </div>
    </div>
{% endblock %}

